<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' cdn.jsdelivr.net code.jquery.com cdnjs.cloudflare.com fonts.googleapis.com fonts.gstatic.com; script-src 'self' cdn.jsdelivr.net code.jquery.com 'unsafe-inline' cdnjs.cloudflare.com fonts.googleapis.com fonts.gstatic.com">
    <link rel="stylesheet" href="chessboard/css/chessboard-1.0.0.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="chessboard/js/chessboard-1.0.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.2/chess.min.js"></script>
    <title>Chess Count Quiz</title>
    <link rel="stylesheet" href="chess-count-quiz.css">
</head>
<body>
    <h2>Chess Move Count Quiz</h2>
    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
      <div class="modal-content">
        <span class="close-button">Ã—</span>
        <h2>Settings</h2>
        <form id="settingsForm">
          <!-- Settings options here -->
          <div>
            <label><input type="checkbox" id="showTimer">Enable Timer</label>
          </div>
          <div>
            <label><input type="checkbox" id="countChecks">Count Checks</label>
          </div>
          <div>
            <label><input type="checkbox" id="countCaptures">Count Captures</label>
          </div>
          <button type="button" onclick="saveSettings()">Save Settings</button>
        </form>
      </div>
    </div>
    <button id="settingsButton">Settings</button>
    
    <div class="container">
      <div id="board" style="width: 400px"></div>
      <div class="info">
	<div id="score">Score: 0</div>

	<div id="timerSection">
	  <div id="timer">Time: 03:00</div>
	  <p>10 second penalty per wrong answer</p>
	</div>
	
	<form id="chessCountForm">
	  <div class="input-group">
	    <label for="p1Checks">Black's Checks:</label>
	    <button type="button" class="decrement" tabindex="-1">&#8592;</button>
	    <input type="number" id="p1Checks" name="p1Checks" min="0" required>
	    <button type="button" class="increment" tabindex="-1">&#8594;</button>
	    <span class="feedbackIcon" id="p1ChecksFeedbackIcon"></span>
          </div>
          <div class="input-group">
            <label for="p1Captures">Black's Captures:</label>
	    <button type="button" class="decrement" tabindex="-1">&#8592;</button>
            <input type="number" id="p1Captures" name="p1Captures" min="0" required>
	    <button type="button" class="increment" tabindex="-1">&#8594;</button>
	    <span class="feedbackIcon" id="p1CapturesFeedbackIcon"></span>
          </div>
          <div class="input-group">
            <label for="p2Checks">White's Checks:</label>
	    <button type="button" class="decrement" tabindex="-1">&#8592;</button>
            <input type="number" id="p2Checks" name="p2Checks" min="0" required>
	    <button type="button" class="increment" tabindex="-1">&#8594;</button>
	    <span class="feedbackIcon" id="p2ChecksFeedbackIcon"></span>
          </div>
          <div class="input-group">
            <label for="p2Captures">White's Captures:</label>
	    <button type="button" class="decrement" tabindex="-1">&#8592;</button>
            <input type="number" id="p2Captures" name="p2Captures" min="0" required>
	    <button type="button" class="increment" tabindex="-1">&#8594;</button>
            <span class="feedbackIcon" id="p2CapturesFeedbackIcon"></span>
          </div>
	  <button type="submit" id="submit">Submit Counts</button>
	</form>
      </div>
    </div>
    <P>Positions from the <a href="https://database.lichess.org/">Lichess puzzle database</a></p>
    <P>See <a href="https://github.com/bescoto/chess-count-quiz">https://github.com/bescoto/chess-count-quiz</a> for source code</p>
    <script src="chess-count-quiz.js"></script>
</body>
</html>

